#!/usr/bin/python3

import subprocess

sspid = subprocess.getoutput('sudo pidof ss-local')

if(sspid != ""):
    print("Detected PID of ss-local: {sspid}".format(sspid = sspid))
    choice = input("Kill ss-local at PID {sspid}? [Y/N]: ".format(sspid = sspid))

    if(choice == "y" or "Y" or "yes" or "Yes"):
        print("Killing ss-local at PID {sspid}".format(sspid = sspid))
        subprocess.run(["sudo", "kill", sspid])
        print("Exiting script.")
        exit()

else:
    print("PID of ss-local undetected. Proxy hasn't been started.")
    print("Exiting script.")
    exit()
